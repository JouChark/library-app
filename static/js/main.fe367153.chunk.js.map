{"version":3,"sources":["components/utils/changeCursor.ts","components/Search.tsx","static/images/black-cover.jpg","components/Navbar.tsx","components/utils/errorMessage.ts","components/utils/validateUserData.ts","components/utils/redirect.ts","components/SignIn.tsx","components/SignUp.tsx","components/utils/updateUserAccount.ts","components/Account.tsx","App.tsx","index.tsx"],"names":["changeCursor","style","document","body","cursor","Home","useState","Array","bookList","setBookList","bookData","setBookData","showList","setShowList","page","setPage","validateInput","input","getElementById","value","inputText","trim","replace","option","border","url","div","className","changeDivPosition","axios","get","then","res","data","docs","catch","err","console","log","innerHTML","fetchData","useEffect","handleScroll","window","innerHeight","documentElement","scrollTop","scrollHeight","length","addEventListener","removeEventListener","setTimeout","slice","id","type","placeholder","Button","variant","onClick","map","book","key","title","cover_i","author_name","first_publish_year","src","authorName","undefined","alt","createBookCard","NavButtons","useCookies","cookie","removeCookie","user","Form","inline","href","process","path","sameSite","NavItems","accountPath","width","innerWidth","NavDropdown","Item","disabled","Fragment","Navbar","Brand","Nav","Link","NavBar","bg","errorMessage","msg","errorMsg","display","textContent","email","action","a","password","validator","isEmpty","isEmail","sendData","response","post","status","error","message","validateUserData","redirect","location","SignIn","setCookie","authenticate","SignUp","required","put","deleteAccount","delete","Account","confirm","defaultValue","deleteUser","updateAccount","App","basename","exact","component","Search","ReactDOM","render","CookiesProvider"],"mappings":"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","file":"static/js/main.fe367153.chunk.js","sourcesContent":["function changeCursor(style: string) {\n  document.body.style.cursor = style;\n}\n\nexport default changeCursor;","import axios from 'axios';\nimport { useState, useEffect } from \"react\";\nimport Button from 'react-bootstrap/Button';\n\nimport blackCover from '../static/images/black-cover.jpg';\nimport changeCursor from './utils/changeCursor';\n\ninterface Book {\n    key: string;\n    title: string;\n    cover_i: number;\n    author_name: Array<string>;\n    first_publish_year: number;\n}\n\nexport default function Home() {\n    const [bookList, setBookList] = useState<Book[]>(Array);\n    const [bookData, setBookData] = useState<Book[]>(Array);\n    const [showList, setShowList] = useState(false);\n    const [page, setPage] = useState(0);\n\n    function validateInput() {\n        const input = document.getElementById('input') as HTMLInputElement;\n        const value = document.getElementById('fields') as HTMLInputElement;\n\n        const inputText = input.value.trim().replace(' ', '+');\n        const option = value.value;\n\n        if (inputText === \"\") {\n            input.style.border = \"2px solid red\";\n        } else {\n            const url = `http://openlibrary.org/search.json?${option}=${inputText}`;\n            fetchData(url);\n        }\n    }\n\n    function fetchData(url: string) {\n        changeCursor('wait');\n        changeDivPosition();\n        setPage(0);\n\n        axios.get(url)\n            .then((res) => {\n                let data: Array<Book> = res.data.docs;\n                setBookData(data);\n                setShowList(true);\n            })\n            .catch(err => {\n                console.log(err);\n                showErrorMessage();\n            });\n    }\n\n    function changeDivPosition() {\n        let div = document.getElementById('search') as HTMLInputElement;\n        if (div.className === 'search-before') {\n            div.className = 'search-after';\n        }\n    }\n\n    function showErrorMessage() {\n        let div = document.getElementById('search-result') as HTMLInputElement;\n        div.innerHTML = `\n        <h3 id='error-title'>\n            OOPS! An error occurred!\n        </h3>`;\n        changeCursor('unset');\n    }\n\n    useEffect(() => {\n        function handleScroll() {\n            if (window.innerHeight + document.documentElement.scrollTop < document.body.scrollHeight\n            || showList || bookData.length === bookList.length) return;\n\n            changeCursor('wait');\n            setPage(page + 1);\n            setShowList(true);\n        }\n        \n        window.addEventListener('scroll', handleScroll);\n        return () => window.removeEventListener('scroll', handleScroll);\n    }, [bookData, bookList, page, showList]);\n\n    useEffect(() => {\n        if (!showList || bookData.length === bookList.length) return;\n\n        setTimeout(() => {\n            setBookList(bookData.slice(0, (page + 1) * 12));\n            changeCursor('unset');\n        }, 500);\n\n        setShowList(false);\n    }, [bookData, bookList, page, showList]);\n\n    function createBookCard({key, title, cover_i, author_name, first_publish_year}: Book) {\n        const coverId = cover_i;\n\n        const src = coverId\n            ? `http://covers.openlibrary.org/b/id/${coverId}-M.jpg`\n            : blackCover;\n\n        const authorName = author_name === undefined\n            ? 'Unknown Author'\n            : author_name[0];\n\n        return(\n            <li className=\"book\" key={key}>\n                <img className='book-cover' src={src} alt={title} />\n                <div className=\"details\">\n                    <h6 className=\"book-title\">{title}</h6>\n                    <p className=\"book-author\">by {authorName}</p>\n                    <p className=\"published-year\">\n                        First published in {first_publish_year}\n                    </p>\n                </div>\n                <button type=\"submit\" className='add-button'>Add</button>\n            </li>\n        )\n    }\n\n    return(\n        <div className=\"home\">\n            <div className=\"search-before\" id='search'>\n                <input type='text' className='input' id='input' placeholder='Search'></input>\n                <select className='fields' id='fields'>\n                    <option value='q'>All</option>\n                    <option value='title'>Title</option>\n                    <option value='author'>Author</option>\n                </select>\n                <Button variant=\"outline-info\" className='ml-sm-2 button search-button' onClick={\n                    () => {\n                        validateInput();\n                    }\n                }>Search</Button>\n            </div>\n            \n            <div className=\"search-results\" id='search-result'>\n                <ul className=\"book-list\">\n                    {bookList.map(book => createBookCard(book))}\n                </ul>\n            </div>\n        </div>\n    );\n}\n","export default \"data:image/jpeg;base64,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\"","import React from 'react';\nimport Nav from 'react-bootstrap/Nav';\nimport Form from 'react-bootstrap/Form';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Button from 'react-bootstrap/Button';\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport { useCookies } from 'react-cookie';\n\nfunction NavButtons() {\n    const [cookie, , removeCookie] = useCookies([\"user\"]);\n\n    if (cookie.user) {\n        return (\n            <Form inline>\n                <Button variant=\"outline-info\"\n                className='button'\n                href={`${process.env.PUBLIC_URL}/`}\n                onClick={() =>{removeCookie('user', {\n                    path: '/',\n                    sameSite: 'strict'\n                })}}\n                >\n                    Sign Out\n                </Button>\n            </Form>\n        )\n    } else {\n        return(\n            <Form inline>\n                <Button variant=\"outline-info\" className='mr-sm-2 button' href=\"sign-in\">\n                    Sign In\n                </Button>\n                <Button variant=\"outline-info\" className='button' href='sign-up'>\n                    Sign Up\n                </Button>\n            </Form>\n        )\n    }\n}\n\nfunction NavItems() {\n    const [cookie] = useCookies([\"user\"]);\n\n    let accountPath:string;\n\n    if (cookie.user) {\n        accountPath = 'account';\n    } else {\n        accountPath = 'sign-in'\n    }\n\n    let width = window.innerWidth;\n    let url = `${process.env.PUBLIC_URL}/`;\n\n    if (width < 450) {\n        return (\n            <NavDropdown title=\"Library App\" id=\"basic-nav-dropdown\" className='drop-down'>\n                <NavDropdown.Item href={url}>Home</NavDropdown.Item>\n                <NavDropdown.Item href=\"#\" disabled>My Library</NavDropdown.Item>\n                <NavDropdown.Item href={accountPath}>Account</NavDropdown.Item>\n            </NavDropdown>\n        )\n    } else {\n        return(\n            <React.Fragment>\n                <Navbar.Brand href={url} className='site-title'>Library App</Navbar.Brand>\n                <Nav className=\"mr-auto\" id='nav'>\n                    <Nav.Link href={url}>Home</Nav.Link>\n                    <Nav.Link href=\"#\" disabled>My Library</Nav.Link>\n                    <Nav.Link href={accountPath}>Account</Nav.Link>\n                </Nav>\n            </React.Fragment>\n        )\n    }\n}\n\nexport default function NavBar() {\n    return(\n        <Navbar bg=\"dark\" variant=\"dark\">\n            <NavItems />\n            <NavButtons />\n        </Navbar>\n    )\n}","function errorMessage(msg: string):boolean {\n  let errorMsg = document.getElementById('error-msg') as HTMLInputElement;\n\n  if (msg === 'none') {\n    errorMsg.style.display = 'none';\n  } else {\n    errorMsg.style.display = 'inline';\n    errorMsg.textContent = msg\n  }\n\n  return false;\n}\n\nexport default errorMessage;","import axios from 'axios';\nimport validator from 'validator';\nimport errorMessage from './errorMessage';\n\nasync function validateUserData(email:string, action:string):Promise<boolean> {\n  let password = (document.getElementById('password') as HTMLInputElement).value;\n\n  if (validator.isEmpty(email) || !validator.isEmail(email)) {\n    return errorMessage(\"Invalid email format\");\n  } else if (password.length < 8) {\n    return errorMessage(\"Password must contain at least 8 characters\");\n  } else {\n    let result = await sendData(email, password, action);\n    if (result) {\n      return true;\n    } else {\n      return false\n    }\n  }\n}\n\nasync function sendData(email:string, password: string, action:string):Promise<boolean> {\n  let response = false;\n  await axios.post(`https://library-app-auth-api.herokuapp.com/${action}`, {\n    email: email,\n    password: password\n  })\n    .then((res) => {\n      if (res.status === 200) {\n        errorMessage('none');\n        response = true;\n      }\n    })\n    .catch(error => {\n      let status = (error.message as string).slice(-3);\n\n      if (status === '403' || status === '404') {\n        let errorMsg = error.response.data.error;\n        errorMessage(errorMsg);\n      } else {\n        errorMessage('OOPS! An error occurred!');\n        console.log(error);\n      }\n    });\n\n    return response;\n}\n\nexport default validateUserData;","function redirect() {\n  setTimeout(() => {\n    window.location.replace(`${process.env.PUBLIC_URL}/`);\n  }, 100);\n}\n\nexport default redirect;","import Button from 'react-bootstrap/Button';\nimport validateUserData from './utils/validateUserData';\nimport { useCookies } from 'react-cookie';\nimport redirect from './utils/redirect';\n\nexport default function SignIn() {\n    const [cookie, setCookie] = useCookies([\"user\"]);\n\n    if (cookie.user) {\n        redirect();\n    }\n\n    async function authenticate() {\n        let email = (document.getElementById('email') as HTMLInputElement).value;\n\n        let result = await validateUserData(email, 'sign-in');\n        if (result) {\n            setCookie('user', email, {\n                path: '/',\n                sameSite: 'strict'\n            });\n            redirect();\n        }\n    }\n\n    return(\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-6\">\n                    <div className=\"card\">\n                        <form className=\"box\">\n                            <h1>Login</h1>\n                            <p className='text'> Please enter your email and password!</p>\n                            <input type=\"email\" placeholder=\"Email\" id='email' />\n                            <input type=\"password\" placeholder=\"Password\" id='password' />\n                            <p id=\"error-msg\"></p>\n                            <Button className='submit' variant=\"outline-info\" onClick={() => {\n                                authenticate();\n                            }}>Login</Button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import Button from 'react-bootstrap/Button';\nimport validateUserData from './utils/validateUserData';\nimport { useCookies } from 'react-cookie';\nimport redirect from './utils/redirect';\n\nexport default function SignUp() {\n    const [cookie, setCookie] = useCookies([\"user\"]);\n\n    if (cookie.user === 'admin') {\n        redirect();\n    }\n    \n    async function authenticate() {\n        let email = (document.getElementById('email') as HTMLInputElement).value;\n\n        let result = await validateUserData(email, 'sign-up')\n        if (result) {\n            setCookie('user', email, {\n                path: '/',\n                sameSite: 'strict'\n            });\n            redirect();\n        }\n    \n    }\n\n    return(\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-6\">\n                    <div className=\"card\">\n                        <form className=\"box\">\n                            <h1>Register</h1>\n                            <p className='text'> Please enter an email and password!</p>\n                            <input type=\"email\" placeholder=\"Email\" id='email' required />\n                            <input type=\"password\" placeholder=\"Password\" id='password' required />\n                            <p id=\"error-msg\"></p>\n                            <Button className='submit' variant=\"outline-info\" onClick={\n                                () => {\n                                    authenticate();\n                                }\n                            }>\n                                Submit\n                            </Button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}","import axios from 'axios';\nimport errorMessage from './errorMessage';\n\nasync function updateAccount(email: string) {\n  let password = (document.getElementById('password') as HTMLInputElement).value;\n\n  let response = false;\n\n  await axios.put('https://library-app-auth-api.herokuapp.com/update', {\n    email: email,\n    password: password\n  })\n    .then((res) => {\n      if (res.status === 200) {\n        errorMessage('Password changed');\n        response = true;\n      }\n    })\n    .catch(error => {\n      let status = (error.message as string).slice(-3);\n\n      if (status === '403' || status === '404') {\n        let errorMsg = error.response.data.error;\n        errorMessage(errorMsg);\n      } else {\n        errorMessage('OOPS! An error occurred!');\n        console.log(error);\n      }\n    });\n\n    return response;\n}\n\nasync function deleteAccount(email:string) {\n  let response = false;\n  await axios.delete('https://library-app-auth-api.herokuapp.com/delete', {\n    data: {\n      email: email\n    }\n  })\n    .then((res) => {\n      if (res.status === 200) {\n        errorMessage('none');\n        response = true;\n      }\n    })\n    .catch(error => {\n      let status = (error.message as string).slice(-3);\n\n      if (status === '403' || status === '404') {\n        let errorMsg = error.response.data.error;\n        errorMessage(errorMsg);\n      } else {\n        errorMessage('OOPS! An error occurred!');\n        console.log(error);\n      }\n    });\n\n    return response;\n}\n\nexport {deleteAccount, updateAccount}\n","import {deleteAccount, updateAccount} from './utils/updateUserAccount';\nimport Button from 'react-bootstrap/Button';\nimport { useCookies } from 'react-cookie';\nimport redirect from './utils/redirect'\n\nexport default function Account() {\n    const [cookie, , removeCookie] = useCookies([\"user\"]);\n\n    let msg = 'Change your Password';\n\n    if (!cookie.user) {\n        redirect();\n    } \n\n    async function deleteUser() {\n        let del = window.confirm(\"Are you sure?\");\n        if (del) {\n            let result = await deleteAccount(cookie.user);\n            if (result) {\n                removeCookie('user', {\n                    path: '/',\n                    sameSite: 'strict'\n                })\n                redirect();\n            }\n        }\n        \n    }\n\n    return(\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-6\">\n                    <div className=\"card\">\n                        <form className=\"box\">\n                            <h1>Account</h1>\n                            <p className='text'>{msg}</p>\n                            <input type=\"email\" defaultValue={cookie.user} id='email' disabled />\n                            <input type=\"password\" placeholder=\"********\" id='password'/>\n                            <p id=\"error-msg\"></p>\n                            <div>\n                            <Button\n                            className='submit'\n                            variant=\"success\"\n                            id='cancel'\n                            onClick={() => {\n                                redirect();\n                            }}>\n                                Cancel\n                            </Button>\n                            <Button\n                            className='submit'\n                            variant=\"danger\"\n                            id='delete'\n                            onClick={() => {\n                                deleteUser();\n                            }}>\n                                Delete\n                            </Button>\n                            <Button \n                            className='submit'\n                            variant=\"primary\"\n                            id='update'\n                            onClick={() => {\n                                updateAccount(cookie.user);\n                            }}\n                            >\n                                Update\n                            </Button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport Search from './components/Search';\nimport NavBar from './components/Navbar';\nimport SignIn from './components/SignIn';\nimport SignUp from './components/SignUp';\nimport Account from './components/Account';\n\nfunction App() {\n    return (\n        <Router basename={process.env.PUBLIC_URL}>\n            <NavBar />\n            <Switch>\n                <Route exact path='/' component={Search} />\n                <Route exact path='/account' component={Account} />\n                <Route exact path='/sign-in' component={SignIn} />\n                <Route exact path='/sign-up' component={SignUp} />\n            </Switch>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { CookiesProvider } from \"react-cookie\";\n\nimport App from './App';\n\nimport './static/css/Authorization.css';\nimport './static/css/Search.css';\nimport './static/css/Navbar.css';\nimport './static/css/index.css';\n\nReactDOM.render(\n    <CookiesProvider>\n        <App />\n    </CookiesProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}